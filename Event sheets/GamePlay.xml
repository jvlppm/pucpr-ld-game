<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>GamePlay</name>
    <events>
        <variable constant="0" name="LastDialog" sid="84189112809969" static="0" type="number">-1</variable>
        <include>Utils</include>
        <include>Camera</include>
        <include>Sprites</include>
        <event-group description="" sid="6773088495970466" title="Balloon">
            <sub-events>
                <event-block sid="1755681182641615">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="8760342310712686" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Clear" sid="6407746087734199" type="Messages" />
                    </actions>
                </event-block>
                <event-block sid="9441057967663321">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="3447303958088918" type="System" />
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="1488310737403378" type="BalloonText">
                            <param id="0" name="Y">Balloon.Y + (Balloon.Height - BalloonText.Height) / 2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6011596442802542">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="8657773377038484" type="Messages">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="7060292305672026" type="BalloonText">
                            <param id="0" name="Text">Messages.At(Messages.Message, Messages.Index)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9086652315371314">
                            <conditions>
                                <condition id="-2" name="Compare Y" sid="4216043330215499" type="Balloon">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="Y co-ordinate">Balloon.VisibleY</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="4249936376478894" type="Balloon">
                                    <param id="0" name="Control">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6688939102978162">
                            <conditions>
                                <condition id="-22" name="Else" sid="9222040371309797" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="10" name="Set vector Y" sid="3628129254842723" type="Balloon">
                                    <param id="0" name="Vector Y">0</param>
                                </action>
                                <action id="-2" name="Set Y" sid="164183972102272" type="Balloon">
                                    <param id="0" name="Y">Balloon.VisibleY</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1140119623031024">
                            <conditions>
                                <condition id="1" name="On any key pressed" sid="9987741443494835" type="Keyboard" />
                                <condition id="-2" name="Compare Y" sid="760148598705779" type="Balloon">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Y co-ordinate">Balloon.VisibleY</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="385591119408046" type="Messages">
                                    <param id="0" name="Instance variable">Index</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="831259068052723">
                                    <conditions>
                                        <condition id="1" name="Compare at XY" sid="3156978444796488" type="Messages">
                                            <param id="0" name="X">Messages.Message</param>
                                            <param id="1" name="Y">Messages.Index</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="4440537280776472" type="Messages">
                                            <param id="0" name="Instance variable">Message</param>
                                            <param id="1" name="Value">-1</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="959565781022128" type="Messages">
                                            <param id="0" name="Instance variable">Index</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7625959734013255">
                    <conditions>
                        <condition id="-22" name="Else" sid="8417102441656297" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6502982153532224">
                            <conditions>
                                <condition id="-2" name="Compare Y" sid="1118332577635214" type="Balloon">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Y co-ordinate">Balloon.InvisibleY</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="7" name="Simulate control" sid="6040114476631735" type="Balloon">
                                    <param id="0" name="Control">3</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2558828820212618">
                            <conditions>
                                <condition id="-22" name="Else" sid="6326773206917017" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="8Direction" id="10" name="Set vector Y" sid="9727494272365772" type="Balloon">
                                    <param id="0" name="Vector Y">0</param>
                                </action>
                                <action id="-2" name="Set Y" sid="9224849496441325" type="Balloon">
                                    <param id="0" name="Y">Balloon.InvisibleY</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4702507437012252">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="7070826580652659" type="System">
                            <param id="0" name="Variable">LastDialog</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">Messages.Message</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="4038900939636685" type="System">
                            <param id="0" name="First value">Messages.Message</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="76103435612278" type="Function">
                            <param id="0" name="Name">&quot;DialogStarted&quot;</param>
                            <param id="1" name="Parameter {n}">Messages.Message</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6270132286812625">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="3809632586717697" type="System">
                            <param id="0" name="Variable">LastDialog</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">Messages.Message</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="2617394567985435" type="System">
                            <param id="0" name="First value">Messages.Message</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="339640915277156" type="Function">
                            <param id="0" name="Name">&quot;DialogCompleted&quot;</param>
                            <param id="1" name="Parameter {n}">LastDialog</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6014474495389857">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="6547425579679625" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="2599472161814022" type="System">
                            <param id="0" name="Variable">LastDialog</param>
                            <param id="1" name="Value">Messages.Message</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="2897060075777959" title="Characters">
            <sub-events>
                <event-block sid="2747026023799614">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="5328620491563456" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="LineOfSight" id="2" name="Add obstacle" sid="7215148226454913" type="Character">
                            <param id="0" name="Obstacle">Wall</param>
                        </action>
                        <action behavior="Pathfinding" id="5" name="Add obstacle" sid="2036355355421125" type="Character">
                            <param id="0" name="Obstacle">Wall</param>
                        </action>
                        <action behavior="Pathfinding" id="5" name="Add obstacle" sid="1572214677364642" type="Character">
                            <param id="0" name="Obstacle">Table</param>
                        </action>
                        <action behavior="Pathfinding" id="4" name="Regenerate obstacle map" sid="7817724900881832" type="Character" />
                    </actions>
                </event-block>
                <event-block disabled="1" sid="8531452890494635">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4710453799687346" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Solid" id="0" name="Set enabled" sid="1540750191993403" type="Character">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3461776281954669">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="527003083696435" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7386122097075609" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">-40</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Solid" id="0" name="Set enabled" sid="1850814151240302" type="Character">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="2969297058111159" type="Character">
                            <param id="0" name="Animation">&quot;Dead&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8676823658211393">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="228195979821599" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">-40</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Solid" id="0" name="Set enabled" sid="240673453112404" type="Character">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="1652163925138002" type="Character">
                            <param id="0" name="Animation">&quot;Squashed&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1373406039423978">
                    <conditions>
                        <condition id="5" name="On any finished" sid="6266993436761191" type="Blood" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="758930827996172" type="Blood" />
                    </actions>
                </event-block>
                <event-block sid="2637388745055656">
                    <conditions>
                        <condition id="-11" name="For Each" sid="134461885959233" type="System">
                            <param id="0" name="Object">Blood</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="9573195227671412" type="Character">
                            <param id="0" name="Unique ID">Blood.Owner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="8938949471873144" type="Blood">
                            <param id="0" name="X">Character.X</param>
                            <param id="1" name="Y">Character.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7861591463897327">
                    <conditions>
                        <condition behavior="Pathfinding" id="0" name="On path found" sid="3881853176667559" type="Character" />
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="1" name="Move along path" sid="6436560352326931" type="Character" />
                    </actions>
                </event-block>
                <variable constant="0" name="solid1" sid="752557890398827" static="0" type="number">0</variable>
                <variable constant="0" name="solid2" sid="2324655875346492" static="0" type="number">0</variable>
                <event-block sid="6072204862819491">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="7996809888709004" type="Character">
                            <param id="0" name="Object">Character</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="4501699149323765">
                            <conditions>
                                <condition id="-13" name="Pick nth instance" sid="241544802382894" type="System">
                                    <param id="0" name="Object">Character</param>
                                    <param id="1" name="Instance">0</param>
                                </condition>
                                <condition behavior="Solid" id="0" name="Is enabled" sid="631606033915743" type="Character" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="3206574851038337" type="System">
                                    <param id="0" name="Variable">solid1</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="355874411622665">
                            <conditions>
                                <condition id="-13" name="Pick nth instance" sid="5153193227926896" type="System">
                                    <param id="0" name="Object">Character</param>
                                    <param id="1" name="Instance">1</param>
                                </condition>
                                <condition behavior="Solid" id="0" name="Is enabled" sid="3471600818159932" type="Character" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="3817653205210135" type="System">
                                    <param id="0" name="Variable">solid2</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4761502973109968">
                            <conditions>
                                <condition id="-13" name="Pick nth instance" sid="8724892855018815" type="System">
                                    <param id="0" name="Object">Character</param>
                                    <param id="1" name="Instance">0</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="1216364771774296" type="System">
                                    <param id="0" name="Variable">solid2</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="2" name="Stop" sid="5483104245193256" type="Character" />
                                <action behavior="Pathfinding" disabled="1" id="4" name="Regenerate obstacle map" sid="5853202973831467" type="Character" />
                            </actions>
                        </event-block>
                        <event-block sid="4835173282412841">
                            <conditions>
                                <condition id="-13" name="Pick nth instance" sid="9219488512218476" type="System">
                                    <param id="0" name="Object">Character</param>
                                    <param id="1" name="Instance">1</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="8640996198936055" type="System">
                                    <param id="0" name="Variable">solid1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="2" name="Stop" sid="1236024645832168" type="Character" />
                                <action behavior="Pathfinding" disabled="1" id="4" name="Regenerate obstacle map" sid="8995339998349445" type="Character" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="2034690151041541">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4359098556955709" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="6925411101524505" type="Character" />
                    </actions>
                </event-block>
                <event-block sid="7452729250779103">
                    <conditions>
                        <condition behavior="8Direction" id="0" name="Is moving" sid="5718351061586626" type="Camera" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="2" name="Set ignoring input" sid="7527954579902497" type="Player">
                            <param id="0" name="Input">1</param>
                        </action>
                        <action behavior="Pathfinding" id="14" name="Set speed" sid="8610013244896075" type="Character">
                            <param id="0" name="Speed">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7653176657418894">
                    <conditions>
                        <condition id="-22" name="Else" sid="6930785706879829" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="2" name="Set ignoring input" sid="8127361753917263" type="Player">
                            <param id="0" name="Input">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9103098289926056">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="4618884775535088" type="Character" />
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="364435488595273" type="Character">
                            <param id="0" name="Instance variable">ForceEnabled</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="5730645467440218" type="Character">
                            <param id="0" name="Set">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block any="1" sid="5656304361410013">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="2716920469136366" type="Character" />
                        <condition id="-8" name="Is boolean instance variable set" sid="8389558443679076" type="Character">
                            <param id="0" name="Instance variable">ForceEnabled</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="8847508032495767" type="Character">
                            <param id="0" name="Set">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7493746584734425">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4928534865885026" type="Character">
                            <param id="0" name="Instance variable">KnockBack</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="299962879965506" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-23" name="Move at angle" sid="9164592849132099" type="Character">
                            <param id="0" name="Angle">Character.KnockBackAngle</param>
                            <param id="1" name="Distance">-dt*80</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="211773081410593" type="Character">
                            <param id="0" name="Instance variable">KnockBack</param>
                            <param id="1" name="Value">dt * 80</param>
                        </action>
                        <action behavior="Pathfinding" id="14" name="Set speed" sid="3528427126876321" type="Character">
                            <param id="0" name="Speed">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="3766674772289778" title="Victims">
            <sub-events>
                <event-block sid="4706235495098837">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="658511659056421" type="Victim" />
                        <condition id="-8" name="Is boolean instance variable set" sid="1875791766255387" type="Victim">
                            <param id="0" name="Instance variable">Running</param>
                        </condition>
                        <condition behavior="Pathfinding" id="4" inverted="1" name="Is moving along path" sid="293347594777976" type="Victim" />
                        <condition id="-11" name="For Each" sid="8982328255764358" type="System">
                            <param id="0" name="Object">Victim</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="x_component" sid="2863045986847837" static="0" type="number">0</variable>
                        <variable constant="0" name="y_component" sid="8762039936927857" static="0" type="number">0</variable>
                        <variable constant="0" name="AverageAngle" sid="5039314281616292" static="0" type="number">0</variable>
                        <variable constant="0" name="count" sid="5621624683614894" static="0" type="number">0</variable>
                        <event-block sid="8883373093638601">
                            <conditions>
                                <condition id="-11" name="For Each" sid="1655314597990026" type="System">
                                    <param id="0" name="Object">Enemy</param>
                                </condition>
                                <condition id="-3" name="Is on-screen" sid="4532695073128966" type="Enemy" />
                                <condition disabled="1" id="-8" name="Compare two values" sid="3805303534987038" type="System">
                                    <param id="0" name="First value">distance(Victim.X, Victim.Y, Enemy.X, Enemy.Y)</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">50</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="1270273028338113" type="Character">
                                    <param id="0" name="Unique ID">Enemy.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Add to" sid="7413495499100982" type="System">
                                    <param id="0" name="Variable">x_component</param>
                                    <param id="1" name="Value">cos(angle(Enemy.X, Enemy.Y, Victim.X, Victim.Y))</param>
                                </action>
                                <action id="-10" name="Add to" sid="6778603739686324" type="System">
                                    <param id="0" name="Variable">y_component</param>
                                    <param id="1" name="Value">sin(angle(Enemy.X, Enemy.Y, Victim.X, Victim.Y))</param>
                                </action>
                                <action id="-10" name="Add to" sid="9912264946036453" type="System">
                                    <param id="0" name="Variable">count</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9918109228565961">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="7925112190826842" type="System">
                                    <param id="0" name="Variable">count</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="3448094008699003" type="System">
                                    <param id="0" name="Variable">AverageAngle</param>
                                    <param id="1" name="Value">90- angle(0, 0, y_component/count, x_component/count)</param>
                                </action>
                                <action behavior="Pathfinding" id="0" name="Find path" sid="5987086950703232" type="Victim">
                                    <param id="0" name="X">Victim.X + Function.Call(&quot;LengthDir&quot;, &quot;x&quot;, 300, AverageAngle)</param>
                                    <param id="1" name="Y">Victim.Y + Function.Call(&quot;LengthDir&quot;, &quot;y&quot;, 300, AverageAngle)</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="4697242619247239" type="Victim">
                                    <param id="0" name="Instance variable">ForceEnabled</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="2257214021347142">
                    <conditions>
                        <condition id="-11" name="For Each" sid="1629289458268421" type="System">
                            <param id="0" name="Object">Area</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="1053485979532074" type="Victim">
                            <param id="0" name="Object">Area</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="6525644021713183" type="System">
                            <param id="0" name="Object">Victim</param>
                        </condition>
                        <condition disabled="1" id="1" name="Is overlapping another object" sid="9843704477375623" type="Player">
                            <param id="0" name="Object">Area</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="safe" sid="2910735561901127" static="0" type="number">1</variable>
                        <event-block sid="1532504153114857">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="5666536240513849" type="Enemy">
                                    <param id="0" name="Object">Area</param>
                                </condition>
                                <condition id="-11" name="For Each" sid="344522127811837" type="System">
                                    <param id="0" name="Object">Enemy</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="7678274284598021" type="Character">
                                    <param id="0" name="Unique ID">Enemy.UID</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="752104374156185" type="Character">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="9059183649491217" type="System">
                                    <param id="0" name="Variable">safe</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-24" name="Stop loop" sid="6581410623768085" type="System" />
                            </actions>
                        </event-block>
                        <event-block sid="5406953508618082">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="2738091327288413" type="System">
                                    <param id="0" name="Variable">safe</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="2307440317461925" type="Victim">
                                    <param id="0" name="Instance variable">Safe</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="6715764408056724">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="1043239629088259" type="System">
                                    <param id="0" name="Variable">safe</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="4138432173945327" type="Victim">
                                    <param id="0" name="Instance variable">Safe</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7918345533403873">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="1023544812396072" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="1803136302973645" type="System">
                            <param id="0" name="Object">Victim</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="5058959468131726" type="Victim">
                            <param id="0" name="Instance variable">Safe</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="6348832281680112" type="Victim" />
                        <condition id="-7" name="Compare instance variable" sid="1300117504784844" type="Victim">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5975783062434913" type="Messages">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="8155234181130923" type="Victim">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="0" name="Find path" sid="7980932186443702" type="Victim">
                            <param id="0" name="X">InitialX</param>
                            <param id="1" name="Y">InitialY</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1251923703147604">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="1566597390238668" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="8352711464969065" type="System">
                            <param id="0" name="Object">Victim</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="6344184549249513" type="Victim">
                            <param id="0" name="Instance variable">Safe</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="7055852830634531" type="Victim" />
                        <condition id="-7" name="Compare instance variable" sid="393543134166145" type="Victim">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="9904956191285547" type="Messages">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="8447938371510885" type="Victim">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="0" name="Find path" sid="3838182067610413" type="Victim">
                            <param id="0" name="X">Player.X</param>
                            <param id="1" name="Y">Player.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2676508559313817">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="8262850755840782" type="Victim">
                            <param id="0" name="Object">PlayerSprite</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="7625292939407939" type="Victim">
                            <param id="0" name="Instance variable">Safe</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="9188745851885653" type="Victim">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="9428238162491768" type="Messages">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Value">Victim.Message</param>
                        </action>
                        <action id="0" name="Call function" sid="7125879997351789" type="Function">
                            <param id="0" name="Name">&quot;VictimSafe&quot;</param>
                            <param id="1" name="Parameter {n}">Victim.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="8723528417059505" type="Victim">
                            <param id="0" name="Instance variable">Message</param>
                            <param id="1" name="Value">-1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="4476927977494909" type="Victim">
                            <param id="0" name="Instance variable">ForceEnabled</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="6767687628336114" type="Victim">
                            <param id="0" name="Instance variable">Running</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="2" name="Stop" sid="6374547744441759" type="Victim" />
                    </actions>
                </event-block>
                <event-block sid="3595759109256556">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="1456710612013809" type="Victim">
                            <param id="0" name="Object">Player</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="2539264762267222" type="Victim" />
                        <action behavior="Pathfinding" disabled="1" id="4" name="Regenerate obstacle map" sid="8880309695253612" type="Victim" />
                    </actions>
                </event-block>
                <event-block sid="5181034978579049">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="2282206727687105" type="Victim">
                            <param id="0" name="Object">Enemy</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="3997203135807211" type="Victim">
                            <param id="0" name="Instance variable">Running</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6513159862760713">
                    <conditions>
                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="6521525957534517" type="Victim">
                            <param id="0" name="Object">Enemy</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="1965402262761647" type="Enemy" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="-13" name="Set boolean" sid="3318732929487649" type="Victim">
                            <param id="0" name="Instance variable">Running</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4761548260922915">
                    <conditions>
                        <condition id="0" name="On function" sid="8090529830012552" type="Function">
                            <param id="0" name="Name">&quot;HeldByZombie&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="4429506421399655" type="Victim">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="5" inverted="1" name="Is tag playing" sid="8449585583396875" type="Audio">
                            <param id="0" name="Tag">str(Victim.UID)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="25" name="Play at object" sid="953137508802399" type="Audio">
                            <param id="0" name="Audio file">193760__nanity05__girl-scream</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Victim</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">str(Victim.UID)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1202374680592262">
                    <conditions>
                        <condition id="0" name="On function" sid="5147408106347047" type="Function">
                            <param id="0" name="Name">&quot;OnHit&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="2767619291989672" type="Victim">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="3825468008666127" type="Victim">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="25" name="Play at object" sid="2989657250414554" type="Audio">
                            <param id="0" name="Audio file">193760__nanity05__girl-scream</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Victim</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">str(Victim.UID)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="3052503956438317" title="Zombies">
            <sub-events>
                <event-block sid="5032556258015384">
                    <conditions>
                        <condition id="-11" name="For Each" sid="3508035104139539" type="System">
                            <param id="0" name="Object">Zombie</param>
                        </condition>
                        <condition id="9" name="Is overlapping at offset" sid="5661433258847534" type="Zombie">
                            <param id="0" name="Object">GoodGuy</param>
                            <param id="1" name="Offset X">Function.Call(&quot;LengthDir&quot;, &quot;x&quot;, 2, Zombie.Angle)</param>
                            <param id="2" name="Offset Y">Function.Call(&quot;LengthDir&quot;, &quot;y&quot;, 2, Zombie.Angle)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="4828505588819494" type="Zombie">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="3930107320249303" type="Zombie">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="6753650208900962" type="Zombie">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="5496899234060294" type="Function">
                            <param id="0" name="Name">&quot;ZombieHold&quot;</param>
                            <param id="1" name="Parameter {n}">Zombie.UID{###}GoodGuy.UID</param>
                        </action>
                        <action id="-16" name="Wait" sid="1710987007140365" type="System">
                            <param id="0" name="Seconds">2</param>
                        </action>
                        <action id="0" name="Call function" sid="8293568104151504" type="Function">
                            <param id="0" name="Name">&quot;ZombieRelease&quot;</param>
                            <param id="1" name="Parameter {n}">Zombie.UID{###}GoodGuy.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8362821904132712">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="8742657174246423" type="Zombie">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="6651072337187063" type="Zombie">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="1804097587887903" type="Function">
                            <param id="0" name="Name">&quot;ZombieRelease&quot;</param>
                            <param id="1" name="Parameter {n}">Zombie.UID{###}Zombie.Holding</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3011547771811964">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="9130189046828305" type="System">
                            <param id="0" name="Interval (seconds)">0.1</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="4081659821480804" type="System">
                            <param id="0" name="Object">Zombie</param>
                        </condition>
                        <condition disabled="1" id="-15" name="Pick nearest/furthest" sid="5655291172079003" type="GoodGuy">
                            <param id="0" name="Which">0</param>
                            <param id="1" name="X">Zombie.X</param>
                            <param id="2" name="Y">Zombie.Y</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1483123731536603" type="Zombie">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="1164320351851821" type="Zombie" />
                        <condition id="-11" name="Is within angle" sid="2955755278458583" type="Zombie">
                            <param id="0" name="Within">30</param>
                            <param id="1" name="Angle">angle(Zombie.X, Zombie.Y, Player.X, Player.Y)</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="9840373835457671" type="System">
                            <param id="0" name="First value">distance(Zombie.X, Zombie.Y, Player.X, Player.Y)</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Second value">ScreenMaxDistance / 2</param>
                        </condition>
                        <condition behavior="LineOfSight" disabled="1" id="0" name="Has LOS to object" sid="5761741511082024" type="Zombie">
                            <param id="0" name="Object">GoodGuy</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="9944639276474629" type="GoodGuy" />
                        <condition disabled="1" id="-13" name="Pick nth instance" sid="4051531230720905" type="System">
                            <param id="0" name="Object">GoodGuy</param>
                            <param id="1" name="Instance">0</param>
                        </condition>
                        <condition disabled="1" id="-14" name="Pick by unique ID" sid="7067220532922365" type="Character">
                            <param id="0" name="Unique ID">GoodGuy.UID</param>
                        </condition>
                        <condition behavior="Sine" disabled="1" id="0" inverted="1" name="Is active" sid="6700788079223877" type="Character" />
                        <condition id="-7" name="Compare instance variable" sid="8154297185845189" type="Zombie">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="2249365369903218" type="Zombie">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="0" name="Find path" sid="2722100475811576" type="Zombie">
                            <param id="0" name="X">GoodGuy.X</param>
                            <param id="1" name="Y">GoodGuy.Y</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9313505264888528">
                            <conditions>
                                <condition id="5" inverted="1" name="Is tag playing" sid="2844149743154683" type="Audio">
                                    <param id="0" name="Tag">str(Zombie.UID)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="25" name="Play at object" sid="7412286539035764" type="Audio">
                                    <param id="0" name="Audio file">189281__huminaatio__zombie-breathing</param>
                                    <param id="1" name="Loop">0</param>
                                    <param id="2" name="Volume">10</param>
                                    <param id="3" name="Object">Zombie</param>
                                    <param id="4" name="Inner angle">360</param>
                                    <param id="5" name="Outer angle">360</param>
                                    <param id="6" name="Outer gain">0</param>
                                    <param id="7" name="Tag (optional)">str(Zombie.UID)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="1406737230114592">
                            <conditions>
                                <condition id="-22" name="Else" sid="8993068728474359" type="System" />
                            </conditions>
                            <actions>
                                <action id="3" name="Set volume" sid="3207627739192327" type="Audio">
                                    <param id="0" name="Tag">str(Zombie.UID)</param>
                                    <param id="1" name="dB">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="5715188491627261">
                    <conditions>
                        <condition id="0" name="On function" sid="1432867587613914" type="Function">
                            <param id="0" name="Name">&quot;ZombieHold&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="5527378287441479" type="Zombie">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="3208803596807013" type="Zombie">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="1764832235118494" type="Character">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="4150268351383997" type="Zombie">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Value">Character.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="1054802453553944" type="Zombie">
                            <param id="0" name="Instance variable">HoldX</param>
                            <param id="1" name="Value">Character.X</param>
                        </action>
                        <action id="-10" name="Set value" sid="5726668563297888" type="Zombie">
                            <param id="0" name="Instance variable">HoldY</param>
                            <param id="1" name="Value">Character.Y</param>
                        </action>
                        <action behavior="Sine" id="0" name="Set active" sid="1158397562513376" type="Character">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="-8" name="Set angle" sid="2684831201144417" type="Zombie">
                            <param id="0" name="Angle">angle(Zombie.X, Zombie.Y, Character.X, Character.Y)</param>
                        </action>
                        <action disabled="1" id="-12" name="Subtract from" sid="8724385663598527" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="5530335594236213" type="Zombie" />
                        <action id="0" name="Call function" sid="9874667444379075" type="Function">
                            <param id="0" name="Name">&quot;HeldByZombie&quot;</param>
                            <param id="1" name="Parameter {n}">Character.UID</param>
                        </action>
                        <action id="6" name="Stop" sid="5512417287135747" type="Audio">
                            <param id="0" name="Tag">str(Zombie.UID)</param>
                        </action>
                        <action id="0" name="Play" sid="9359874696099258" type="Audio">
                            <param id="0" name="Audio file">213509__soykevin__zombie-attack</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">str(Zombie.UID)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6161878113429321">
                    <conditions>
                        <condition id="0" name="On function" sid="9989210086701573" type="Function">
                            <param id="0" name="Name">&quot;ZombieRelease&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="7056476761576042" type="Zombie">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="3074319268331587" type="Character">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="4170366143394197" type="Zombie">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Value">-1</param>
                        </action>
                        <action behavior="Sine" id="0" name="Set active" sid="844276943980011" type="Character">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="1589709759369264" type="Zombie">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Value">0.5</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block disabled="1" sid="1936268066267517">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="26447679855805" type="Zombie">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-17" name="Move forward" sid="6838896887525652" type="Zombie">
                                    <param id="0" name="Distance">-2</param>
                                </action>
                                <action disabled="1" id="-17" name="Move forward" sid="4120157305470225" type="Zombie">
                                    <param id="0" name="Distance">-6</param>
                                </action>
                                <action disabled="1" id="-23" name="Move at angle" sid="1383330590275407" type="Character">
                                    <param id="0" name="Angle">Zombie.Angle</param>
                                    <param id="1" name="Distance">4</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block disabled="1" sid="484197694518535">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="3512342995677946" type="Zombie">
                            <param id="0" name="Object">ChangeDirection</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-8" name="Set angle" sid="5298982561410116" type="Zombie">
                            <param id="0" name="Angle">180-Zombie.Angle</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7483115825215037">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="559697588775953" type="Zombie">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="4399037112544204" type="Zombie">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Value">dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4324840078489887">
                    <conditions>
                        <condition id="-11" name="For Each" sid="7292872579562534" type="System">
                            <param id="0" name="Object">Zombie</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="1135305714073343" type="Character">
                            <param id="0" name="Unique ID">Zombie.Holding</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="4901705873845822" type="Character">
                            <param id="0" name="X">Zombie.HoldX + Character.Sine.Value</param>
                        </action>
                        <action id="-2" name="Set Y" sid="2902904824734663" type="Character">
                            <param id="0" name="Y">Zombie.HoldY + Character.Sine.Value</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="4460749865104301" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">dt * 2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5041306194478019">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="7099844315655805" type="Zombie" />
                        <condition id="-11" name="For Each" sid="3896045180867685" type="System">
                            <param id="0" name="Object">Zombie</param>
                        </condition>
                        <condition id="5" name="Is tag playing" sid="2237568376305846" type="Audio">
                            <param id="0" name="Tag">str(Zombie.UID)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="3" name="Set volume" sid="2762387174077265" type="Audio">
                            <param id="0" name="Tag">str(Zombie.UID)</param>
                            <param id="1" name="dB">-distance(Player.X, Player.Y, Zombie.X, Zombie.Y) / ScreenMaxDistance * 10</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7773099781713889">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9174271994378559" type="Zombie">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="7738833043456585" type="System">
                            <param id="0" name="Object">Zombie</param>
                        </condition>
                        <condition id="5" name="Is tag playing" sid="1555162503379061" type="Audio">
                            <param id="0" name="Tag">str(Zombie.UID)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="6" name="Stop" sid="2190658387991932" type="Audio">
                            <param id="0" name="Tag">str(Zombie.UID)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1659516756737433">
                    <conditions>
                        <condition id="0" name="On function" sid="9488876569464444" type="Function">
                            <param id="0" name="Name">&quot;OnHit&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="1581041095869493" type="Zombie">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="6258575186649959" type="Zombie">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="8791018361399251" type="Zombie">
                            <param id="0" name="Instance variable">Screamed</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="4363346758988874" type="Zombie">
                            <param id="0" name="Instance variable">Screamed</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="25" name="Play at object" sid="4036300523996901" type="Audio">
                            <param id="0" name="Audio file">151710_scorpion67890_rotten-zombie-death_converted</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Zombie</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="9438648782380541" title="Snipers">
            <sub-events>
                <event-block sid="6870329120158633">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="8462071480455254" type="Sniper">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="926855998336266" type="Sniper" />
                        <condition id="-6" name="Every X seconds" sid="9916507095541701" type="System">
                            <param id="0" name="Interval (seconds)">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="4604107105216064" type="Sniper">
                            <param id="0" name="Instance variable">State</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="5417612657091808" type="Sniper">
                            <param id="0" name="Instance variable">State</param>
                            <param id="1" name="Value">&quot;Aiming&quot;</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="7836545612915712" type="Sniper">
                            <param id="0" name="Object">SniperAim</param>
                            <param id="1" name="Layer">Sniper.LayerNumber</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="8921593380700907" type="SniperAim">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Value">Sniper.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7082825788179696">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="1345838719586929" type="SniperAim">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="5986902730428735" type="Sniper">
                            <param id="0" name="Unique ID">SniperAim.Owner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-20" name="Rotate toward angle" sid="2560813066680402" type="SniperAim">
                            <param id="0" name="Degrees">2</param>
                            <param id="1" name="Angle">angle(Self.X, Self.Y, Player.X, Player.Y)</param>
                        </action>
                        <action id="-8" name="Set angle" sid="8501319939405663" type="Sniper">
                            <param id="0" name="Angle">angle(Sniper.X, Sniper.Y, SniperAim.X, SniperAim.Y)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6436920879625818">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="3280864922452105" type="SniperAim" />
                        <condition id="-14" name="Pick by unique ID" sid="5034864882812996" type="Sniper">
                            <param id="0" name="Unique ID">SniperAim.Owner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="7309685477196305" type="SniperAim" />
                        <action id="-10" name="Set value" sid="8009511160387848" type="Sniper">
                            <param id="0" name="Instance variable">State</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4929341124605661">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="5090802546850913" type="Sniper">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="461453397147227" type="System">
                            <param id="0" name="Object">Sniper</param>
                        </condition>
                        <condition id="-34" name="Pick by evaluate" sid="3358314330897998" type="System">
                            <param id="0" name="Object">SniperAim</param>
                            <param id="1" name="Expression">SniperAim.Owner = Sniper.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="5310581046779132" type="SniperAim" />
                        <action id="-10" name="Set value" sid="7351149576512921" type="Sniper">
                            <param id="0" name="Instance variable">State</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="159915570911159">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="9232799813482979" type="System" />
                                <condition id="-7" name="Compare instance variable" sid="6528105226563659" type="SpriteChar">
                                    <param id="0" name="Instance variable">Owner</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Sniper.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="1210039222664111" type="SpriteChar">
                                    <param id="0" name="Instance variable">Tall</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7966037355216316">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="2548393309511419" type="SniperAim">
                            <param id="0" name="Object">Wall</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="9247199072086537" type="Sniper">
                            <param id="0" name="Unique ID">SniperAim.Owner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="5345847840327239" type="SniperAim" />
                        <action id="-10" name="Set value" sid="2268531610553359" type="Sniper">
                            <param id="0" name="Instance variable">State</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4960837091584217">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="6858465076458524" type="Sniper">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="9708463597523654" type="SniperAim">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-6" name="Every X seconds" sid="6760252710942278" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="2076641372656041" type="Sniper">
                            <param id="0" name="Unique ID">SniperAim.Owner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="6766510888323367" type="Sniper">
                            <param id="0" name="Object">SniperBullet</param>
                            <param id="1" name="Layer">Sniper.LayerNumber</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-8" name="Set angle" sid="7449760971428594" type="SniperBullet">
                            <param id="0" name="Angle">angle(SniperBullet.X, SniperBullet.Y, Player.X, Player.Y)</param>
                        </action>
                        <action id="-10" name="Set value" sid="3744221811851148" type="SniperBullet">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Value">Sniper.UID</param>
                        </action>
                        <action id="-9" name="Destroy" sid="8533180673967638" type="SniperAim" />
                    </actions>
                    <sub-events>
                        <event-block sid="1084054181182611">
                            <conditions>
                                <condition id="-3" name="Is on-screen" sid="5493787985633494" type="Zombie" />
                                <condition id="-7" name="Compare instance variable" sid="7035951644441116" type="Zombie">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="2728789201019649" type="Zombie">
                                    <param id="0" name="Angle">angle(Zombie.X, Zombie.Y, Player.X, Player.Y)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="3859667422442539">
                            <conditions />
                            <actions>
                                <action id="-10" name="Set value" sid="799006668667252" type="Sniper">
                                    <param id="0" name="Instance variable">State</param>
                                    <param id="1" name="Value">&quot;Waiting&quot;</param>
                                </action>
                                <action id="-16" name="Wait" sid="8551280878697858" type="System">
                                    <param id="0" name="Seconds">2</param>
                                </action>
                                <action id="-10" name="Set value" sid="3178064931264047" type="Sniper">
                                    <param id="0" name="Instance variable">State</param>
                                    <param id="1" name="Value">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="1287796300961536">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="538838529633733" type="SniperAim">
                            <param id="0" name="Object">Area</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="3595903841615962" type="Sniper">
                            <param id="0" name="Unique ID">SniperAim.Owner</param>
                        </condition>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="7393621521303161" type="Sniper">
                            <param id="0" name="Object">Area</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="398166745105962" type="SniperAim" />
                        <action id="-10" name="Set value" sid="3384434016016467" type="Sniper">
                            <param id="0" name="Instance variable">State</param>
                            <param id="1" name="Value">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1746198295301054" title="InvisibleMan">
            <sub-events>
                <event-block sid="8372894496072236">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="4561100097074711" type="System" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="8838717090453826">
                    <conditions>
                        <condition id="-3" name="Is on-screen" sid="9522075622638089" type="InvisibleMan" />
                        <condition id="-4" name="Trigger once while true" sid="6125387076320343" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="1143536780557103" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">InvisibleMan.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="3826122779698949" type="Function">
                            <param id="0" name="Name">&quot;InvisibleGoToRandom&quot;</param>
                            <param id="1" name="Parameter {n}">InvisibleMan.UID</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="6177665296044897" type="SpriteChar">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2215855887501768">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="7587738929163339" type="InvisibleMan" />
                        <condition id="-4" name="Trigger once while true" sid="1391259584634985" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="5016825392809226" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">InvisibleMan.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="5953347823604413" type="SpriteChar">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4324656161830704">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="3429764310942575" type="InvisibleMan">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="4584076564715279" type="InvisibleMan">
                            <param id="0" name="Set">0</param>
                        </action>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="2546818072048696" type="InvisibleMan" />
                    </actions>
                </event-block>
                <event-block sid="1758324003044095">
                    <conditions>
                        <condition behavior="Pathfinding" id="4" inverted="1" name="Is moving along path" sid="896503402798665" type="InvisibleMan" />
                        <condition id="-7" name="Compare instance variable" sid="4850427888388205" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">InvisibleMan.UID</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="239824608917774">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5587345242878881" type="System">
                                    <param id="0" name="First value">distance(InvisibleMan.X, InvisibleMan.Y, Player.X, Player.Y)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">ScreenMaxDistance * 0.25</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="1680059038303305" type="Function">
                                    <param id="0" name="Name">&quot;InvisibleGoToRandom&quot;</param>
                                    <param id="1" name="Parameter {n}">InvisibleMan.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8635853630942368">
                            <conditions>
                                <condition id="-22" name="Else" sid="8335755231865073" type="System" />
                            </conditions>
                            <actions>
                                <action id="-16" name="Set opacity" sid="2724399648812305" type="SpriteChar">
                                    <param id="0" name="Opacity">100</param>
                                </action>
                                <action behavior="Pathfinding" id="0" name="Find path" sid="7651428560108546" type="InvisibleMan">
                                    <param id="0" name="X">Player.X</param>
                                    <param id="1" name="Y">Player.Y</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8605534249926614">
                    <conditions>
                        <condition id="0" name="On function" sid="1117677105536962" type="Function">
                            <param id="0" name="Name">&quot;InvisibleGoToRandom&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="102955205702192" type="InvisibleMan">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Pathfinding" id="0" name="Find path" sid="2142170106266392" type="InvisibleMan">
                            <param id="0" name="X">ViewportLeft(InvisibleMan.LayerNumber)+random(WindowWidth)*0.6 + 0.2*WindowWidth</param>
                            <param id="1" name="Y">ViewportTop(InvisibleMan.LayerNumber)+random(WindowHeight)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1003820755162384">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="182788008394396" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="1609777469529569" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">InvisibleMan.UID</param>
                        </condition>
                        <condition id="-10" name="Compare opacity" sid="8062032223521878" type="SpriteChar">
                            <param id="0" name="Comparison">4</param>
                            <param id="1" name="Opacity">1</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7609130245836254" type="InvisibleMan">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="9631609172000658" type="SpriteChar">
                            <param id="0" name="Opacity">SpriteChar.Opacity - dt * 100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="311469443150515">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="934612283155852" type="System">
                            <param id="0" name="Interval (seconds)">3</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5188743143311924" type="InvisibleMan">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5824391809810259" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">InvisibleMan.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="1606060304909542" type="SpriteChar">
                            <param id="0" name="Opacity">20 + random(40)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block any="1" sid="4952125449471231">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="1792963362865858" type="InvisibleMan">
                            <param id="0" name="Object">Bullet</param>
                        </condition>
                        <condition id="0" name="On collision with another object" sid="9327317088973548" type="InvisibleMan">
                            <param id="0" name="Object">Character</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="526571003775487">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="2968540211344672" type="SpriteChar">
                                    <param id="0" name="Instance variable">Owner</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">InvisibleMan.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Set opacity" sid="5584873003463056" type="SpriteChar">
                                    <param id="0" name="Opacity">100</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4224452801242449">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="5447475839691912" type="InvisibleMan">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="4943396028040037" type="InvisibleMan">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Value">dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8814474688064628">
                    <conditions>
                        <condition id="0" name="On function" sid="2332705813257714" type="Function">
                            <param id="0" name="Name">&quot;InvisibleHold&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="7341810072609046" type="InvisibleMan">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1789844197429189" type="InvisibleMan">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="2107371324687573" type="Character">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="403150575016625" type="InvisibleMan">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Value">Character.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="5108487901313025" type="InvisibleMan">
                            <param id="0" name="Instance variable">HoldX</param>
                            <param id="1" name="Value">Character.X</param>
                        </action>
                        <action id="-10" name="Set value" sid="5893868842643322" type="InvisibleMan">
                            <param id="0" name="Instance variable">HoldY</param>
                            <param id="1" name="Value">Character.Y</param>
                        </action>
                        <action behavior="Sine" id="0" name="Set active" sid="1223261062734002" type="Character">
                            <param id="0" name="State">1</param>
                        </action>
                        <action id="-8" name="Set angle" sid="9678133757552723" type="InvisibleMan">
                            <param id="0" name="Angle">angle(Self.X, Self.Y, Character.X, Character.Y)</param>
                        </action>
                        <action disabled="1" id="-12" name="Subtract from" sid="8673219316693982" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action behavior="Pathfinding" id="2" name="Stop" sid="2981976230650324" type="InvisibleMan" />
                        <action id="0" name="Call function" sid="6276634417095441" type="Function">
                            <param id="0" name="Name">&quot;HeldByZombie&quot;</param>
                            <param id="1" name="Parameter {n}">Character.UID</param>
                        </action>
                        <action id="6" name="Stop" sid="8659382636138373" type="Audio">
                            <param id="0" name="Tag">str(InvisibleMan.UID)</param>
                        </action>
                        <action id="0" name="Play" sid="5496668845115289" type="Audio">
                            <param id="0" name="Audio file">213509__soykevin__zombie-attack</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">str(InvisibleMan.UID)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2058898163527909">
                    <conditions>
                        <condition id="0" name="On function" sid="2385978431872257" type="Function">
                            <param id="0" name="Name">&quot;InvisibleRelease&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="5555383363155621" type="InvisibleMan">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="7060806169263307" type="Character">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="8666588533090209" type="InvisibleMan">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Value">-1</param>
                        </action>
                        <action behavior="Sine" id="0" name="Set active" sid="300918604504197" type="Character">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="9241598592069184" type="InvisibleMan">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Value">0.5</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7353541865091447">
                    <conditions>
                        <condition id="-11" name="For Each" sid="9293454921909232" type="System">
                            <param id="0" name="Object">InvisibleMan</param>
                        </condition>
                        <condition id="9" name="Is overlapping at offset" sid="170211419877136" type="InvisibleMan">
                            <param id="0" name="Object">GoodGuy</param>
                            <param id="1" name="Offset X">Function.Call(&quot;LengthDir&quot;, &quot;x&quot;, 2, InvisibleMan.Angle)</param>
                            <param id="2" name="Offset Y">Function.Call(&quot;LengthDir&quot;, &quot;y&quot;, 2, InvisibleMan.Angle)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="683483722253256" type="InvisibleMan">
                            <param id="0" name="Instance variable">Holding</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="1938719131780829" type="InvisibleMan">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7751298759107027" type="InvisibleMan">
                            <param id="0" name="Instance variable">ReleaseDelay</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="1678059834846593" type="Character">
                            <param id="0" name="Unique ID">GoodGuy.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="1703819466872862" type="Function">
                            <param id="0" name="Name">&quot;InvisibleHold&quot;</param>
                            <param id="1" name="Parameter {n}">InvisibleMan.UID{###}GoodGuy.UID</param>
                        </action>
                        <action id="-16" name="Wait" sid="3978654794264585" type="System">
                            <param id="0" name="Seconds">2</param>
                        </action>
                        <action id="0" name="Call function" sid="1692096998181474" type="Function">
                            <param id="0" name="Name">&quot;InvisibleRelease&quot;</param>
                            <param id="1" name="Parameter {n}">InvisibleMan.UID{###}GoodGuy.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="996290132796984" type="Character">
                            <param id="0" name="Instance variable">KnockBack</param>
                            <param id="1" name="Value">32</param>
                        </action>
                        <action id="-10" name="Set value" sid="7511643510297853" type="Character">
                            <param id="0" name="Instance variable">KnockBackAngle</param>
                            <param id="1" name="Value">angle(InvisibleMan.X, InvisibleMan.Y, Character.X, Character.y)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4115161928553519">
                    <conditions>
                        <condition id="-11" name="For Each" sid="7125978244740165" type="System">
                            <param id="0" name="Object">InvisibleMan</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="3585250599070256" type="Character">
                            <param id="0" name="Unique ID">InvisibleMan.Holding</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="4136173138804399" type="Character">
                            <param id="0" name="X">InvisibleMan.HoldX + Character.Sine.Value</param>
                        </action>
                        <action id="-2" name="Set Y" sid="6907414213393141" type="Character">
                            <param id="0" name="Y">InvisibleMan.HoldY + Character.Sine.Value</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="5145212539513354" type="Character">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">dt * 2</param>
                        </action>
                        <action behavior="Pathfinding" id="3" name="Set enabled" sid="1219297385556881" type="InvisibleMan">
                            <param id="0" name="Set">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="7871028774943537" title="Player">
            <sub-events>
                <event-block sid="1225327048404472">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="2779321727857248" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="7045334246491602" type="Ammo" />
                        <action id="-9" name="Destroy" sid="4113286106014193" type="BulletCount" />
                    </actions>
                </event-block>
                <event-block sid="8280718908687473">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="1089611285238527" type="Keyboard">
                            <param id="0" name="Key">90 (Z)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="2570044362247388" type="Player">
                            <param id="0" name="Instance variable">CarryingKnife</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="9247062216808947" type="Player">
                            <param id="0" name="Instance variable">HoldingKnife</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="6469500654433442" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7244224611413852" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="3063615560442297" type="Player">
                            <param id="0" name="Object">Knife</param>
                            <param id="1" name="Layer">Player.LayerNumber</param>
                            <param id="2" name="Image point">&quot;Weapon&quot;</param>
                        </action>
                        <action id="-10" name="Set value" sid="6133892983294666" type="Knife">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Value">Player.UID</param>
                        </action>
                        <action id="-29" name="Move to object" sid="794924080227958" type="Knife">
                            <param id="0" name="Where">1</param>
                            <param id="1" name="Object">Player</param>
                        </action>
                        <action id="-10" name="Set value" sid="3222651610741259" type="Player">
                            <param id="0" name="Instance variable">SpriteState</param>
                            <param id="1" name="Value">&quot;Knife&quot;</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="6990257903733335" type="Player">
                            <param id="0" name="Instance variable">HoldingKnife</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Play" sid="6405901915660817" type="Audio">
                            <param id="0" name="Audio file">118792__lmbubec__1-knife-slash-a</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="9246430597994552">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="1522872614650812" type="Keyboard">
                            <param id="0" name="Key">90 (Z)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="316109022485842" type="Player">
                            <param id="0" name="Instance variable">CarryingKnife</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="408557440313148" type="Player">
                            <param id="0" name="Instance variable">HoldingKnife</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="57115545914913" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="9677900557923006" type="Player">
                            <param id="0" name="Instance variable">HoldingKnife</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="8692376308629223" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2187940477451241">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="1695418716870088" type="Keyboard">
                            <param id="0" name="Key">88 (X)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="3469811711022379" type="Player">
                            <param id="0" name="Instance variable">CarryingGun</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="932696270608911" type="Player">
                            <param id="0" name="Instance variable">HoldingKnife</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="7614508555794209" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                        </condition>
                        <condition disabled="1" id="-7" name="Compare instance variable" sid="3500884186671823" type="Player">
                            <param id="0" name="Instance variable">SimpleBullets</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5979936400008094" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7978322069643489" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Player.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="5721202237890695" type="SpriteChar">
                            <param id="0" name="Object">SimpleBullet</param>
                            <param id="1" name="Layer">Player.LayerNumber</param>
                            <param id="2" name="Image point">&quot;Weapon&quot;</param>
                        </action>
                        <action id="-10" name="Set value" sid="4632564685417155" type="SimpleBullet">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Value">Player.UID</param>
                        </action>
                        <action id="-29" name="Move to object" sid="2903752708476008" type="SimpleBullet">
                            <param id="0" name="Where">1</param>
                            <param id="1" name="Object">Player</param>
                        </action>
                        <action id="-8" name="Set angle" sid="4135992262359893" type="SimpleBullet">
                            <param id="0" name="Angle">round((Player.Angle) / 90) * 90</param>
                        </action>
                        <action id="0" name="Play" sid="7292800857660541" type="Audio">
                            <param id="0" name="Audio file">220612_senitiel_pistol2</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="8551624278586166" type="PlayerSprite">
                            <param id="0" name="Object">BulletShell</param>
                            <param id="1" name="Layer">PlayerSprite.LayerNumber</param>
                            <param id="2" name="Image point">&quot;Weapon&quot;</param>
                        </action>
                        <action behavior="Platform" id="9" name="Set vector Y" sid="430967764502942" type="BulletShell">
                            <param id="0" name="Vector Y">-100 -random(50)</param>
                        </action>
                        <action behavior="Platform" id="8" name="Set vector X" sid="2853600296169604" type="BulletShell">
                            <param id="0" name="Vector X">random(50) - 25</param>
                        </action>
                        <action id="-10" name="Set value" sid="7841159656277906" type="BulletShell">
                            <param id="0" name="Instance variable">MaxY</param>
                            <param id="1" name="Value">PlayerSprite.Y + random(20) - 10</param>
                        </action>
                        <action id="-8" name="Set angle" sid="4186467933850166" type="BulletShell">
                            <param id="0" name="Angle">Player.Angle</param>
                        </action>
                        <action behavior="ScrollTo" id="0" name="Shake" sid="687659488758571" type="Camera">
                            <param id="0" name="Magnitude">4</param>
                            <param id="1" name="Duration">0.4</param>
                            <param id="2" name="Mode">0</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="624649632879446" type="Player">
                            <param id="0" name="Instance variable">SimpleBullets</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="5369970844944938" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="861895851051506" type="System">
                            <param id="0" name="Seconds">0.3</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="9602946481376386" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="9691761401221066">
                            <conditions>
                                <condition id="-3" name="Is on-screen" sid="4778212320694409" type="Character" />
                                <condition id="-7" name="Compare instance variable" sid="1860826493509643" type="Character">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-11" name="For Each" sid="7919063067288481" type="System">
                                    <param id="0" name="Object">Character</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="1929279266646328" type="System">
                                    <param id="0" name="First value">Player.UID</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Second value">Character.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-8" name="Set angle" sid="8034637335837835" type="Character">
                                    <param id="0" name="Angle">angle(Character.X, Character.Y, Player.X, Player.Y)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block disabled="1" sid="1703250627941567">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="7415254814235368" type="Keyboard">
                            <param id="0" name="Key">88 (X)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="4192240266599264" type="Player">
                            <param id="0" name="Instance variable">CarryingGun</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="2197136174959661" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="594551590011734" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="9047041307140641" type="Player">
                            <param id="0" name="Instance variable">HoldingKnife</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="8614862477583223" type="Player">
                            <param id="0" name="Instance variable">HoldingGun</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4603764371528546">
                    <conditions>
                        <condition id="2" name="Key is down" sid="9842800314645672" type="Keyboard">
                            <param id="0" name="Key">16 (Shift)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="6896713297810405" type="Player">
                            <param id="0" name="Instance variable">CanRun</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="4" name="Set max speed" sid="7549239714891313" type="Player">
                            <param id="0" name="Max Speed">520</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="398015332191425">
                    <conditions>
                        <condition id="-22" name="Else" sid="710024685774647" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="4" name="Set max speed" sid="4502868647806233" type="Player">
                            <param id="0" name="Max Speed">320</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3712788234800309">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4255895298332425" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Fade" id="1" name="Start fade" sid="9776229295678376" type="FinalFade" />
                        <action behavior="8Direction" id="2" name="Set ignoring input" sid="8518413716796701" type="Player">
                            <param id="0" name="Input">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4218467260755689">
                    <conditions>
                        <condition behavior="Fade" id="0" name="On fade out finished" sid="9466521910715355" type="FinalFade" />
                    </conditions>
                    <actions>
                        <action id="33" name="Stop all" sid="9498266365254559" type="Audio" />
                        <action id="-26" name="Restart layout" sid="4446848117981179" type="System" />
                    </actions>
                </event-block>
                <event-block sid="5152739100847432">
                    <conditions>
                        <condition id="0" name="On function" sid="5871580146946468" type="Function">
                            <param id="0" name="Name">&quot;DialogStarted&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="8" name="Set enabled" sid="269799633187725" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9975927714612028">
                    <conditions>
                        <condition id="0" name="On function" sid="5980768321102782" type="Function">
                            <param id="0" name="Name">&quot;DialogCompleted&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="8" name="Set enabled" sid="4820178117098148" type="Player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="3193611664449879" title="Weapons">
            <sub-events>
                <event-block sid="1870731739834124">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="3316987684974905" type="Weapon">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-11" name="For Each" sid="4237205213374989" type="System">
                            <param id="0" name="Object">Weapon</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="9650375047647596" type="SpriteChar">
                            <param id="0" name="Instance variable">Owner</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">Weapon.Owner</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="4083803452362115" type="Character">
                            <param id="0" name="Unique ID">Weapon.Owner</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set position to another object" sid="219662155578734" type="Weapon">
                            <param id="0" name="Object">SpriteChar</param>
                            <param id="1" name="Image point (optional)">&quot;Weapon&quot;</param>
                        </action>
                        <action id="-8" name="Set angle" sid="9488138421858991" type="Weapon">
                            <param id="0" name="Angle">Character.Angle</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="6454508332916548" title="Knife">
                    <sub-events>
                        <event-block sid="4064754307868574">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="6048919233397953" type="Knife">
                                    <param id="0" name="Instance variable">Owner</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="1161745390752761" type="Player">
                                    <param id="0" name="Unique ID">Knife.Owner</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="7023371633381726">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1174450378627109" type="Knife">
                                            <param id="0" name="Instance variable">State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;GoingBack&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-12" name="Subtract from" sid="7837577618410107" type="Knife">
                                            <param id="0" name="Instance variable">Distance</param>
                                            <param id="1" name="Value">dt * 160</param>
                                        </action>
                                        <action id="-17" name="Move forward" sid="603118444205213" type="Knife">
                                            <param id="0" name="Distance">Knife.Distance</param>
                                        </action>
                                        <action behavior="8Direction" id="3" name="Set speed" sid="7655980153880119" type="Player">
                                            <param id="0" name="Speed">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="9241586652948249">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="3576719587709574" type="Knife">
                                                    <param id="0" name="Instance variable">Distance</param>
                                                    <param id="1" name="Comparison">3</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Destroy" sid="8469836282091991" type="Knife" />
                                                <action id="-13" name="Set boolean" sid="7087765297115608" type="Player">
                                                    <param id="0" name="Instance variable">HoldingKnife</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="3716272604030348">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="8096057272427492" type="Knife">
                                            <param id="0" name="Instance variable">State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;GoingForward&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Add to" sid="3208995944450642" type="Knife">
                                            <param id="0" name="Instance variable">Distance</param>
                                            <param id="1" name="Value">dt * 80</param>
                                        </action>
                                        <action id="-17" name="Move forward" sid="9283433093325673" type="Knife">
                                            <param id="0" name="Distance">Knife.Distance</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="5097237189651301">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="5848555511311371" type="Knife">
                                                    <param id="0" name="Instance variable">Distance</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">8</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="2757489438274415" type="Knife">
                                                    <param id="0" name="Instance variable">State</param>
                                                    <param id="1" name="Value">&quot;GoingBack&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="1215233557027737">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="3123790428077183" type="Knife">
                                    <param id="0" name="Object">SpriteChar</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9601841430931611" type="System">
                                    <param id="0" name="First value">SpriteChar.Owner</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Second value">Knife.Owner</param>
                                </condition>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="9188804513681333" type="Knife">
                                    <param id="0" name="Instance variable">Hit</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="8713004456287085" type="Character">
                                    <param id="0" name="Unique ID">SpriteChar.Owner</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action disabled="1" id="-10" name="Set value" sid="4117443700324915" type="Knife">
                                    <param id="0" name="Instance variable">State</param>
                                    <param id="1" name="Value">&quot;GoingBack&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="6171942957148739">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4116065204453974" type="Character">
                                            <param id="0" name="Instance variable">Health</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="6166959941014352" type="Knife">
                                            <param id="0" name="Instance variable">Hit</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="2733861532123888" type="Character">
                                            <param id="0" name="Instance variable">KnockBack</param>
                                            <param id="1" name="Value">32</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="2129131544883778" type="Character">
                                            <param id="0" name="Instance variable">KnockBackAngle</param>
                                            <param id="1" name="Value">180-angle(Player.X, Player.Y, Character.X, Character.Y)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="7752977712207892">
                                    <conditions />
                                    <actions>
                                        <action id="-12" name="Subtract from" sid="4582330531617707" type="Character">
                                            <param id="0" name="Instance variable">Health</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="0" name="Spawn another object" sid="9256314656324696" type="Knife">
                                            <param id="0" name="Object">DirectionalBlood</param>
                                            <param id="1" name="Layer">Character.LayerNumber</param>
                                            <param id="2" name="Image point">&quot;Hit&quot;</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="6277254884218466" type="DirectionalBlood">
                                            <param id="0" name="Angle">angle(Character.X, Character.Y, Player.X, Player.Y)</param>
                                        </action>
                                        <action disabled="1" id="-10" name="Set value" sid="7539031209235274" type="DirectionalBlood">
                                            <param id="0" name="Instance variable">Owner</param>
                                            <param id="1" name="Value">Character.UID</param>
                                        </action>
                                        <action id="0" name="Call function" sid="6976850946861578" type="Function">
                                            <param id="0" name="Name">&quot;OnHit&quot;</param>
                                            <param id="1" name="Parameter {n}">Character.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="8165322307502895" title="Gun">
                    <sub-events>
                        <event-block disabled="1" sid="3967618514829974">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="6070128793063599" type="Player">
                                    <param id="0" name="Instance variable">CarryingGun</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="6038925406496068" type="Gun">
                                    <param id="0" name="Instance variable">OldPlayerX2</param>
                                    <param id="1" name="Value">Gun.OldPlayerX1</param>
                                </action>
                                <action id="-10" name="Set value" sid="4492246063247969" type="Gun">
                                    <param id="0" name="Instance variable">OldPlayerY2</param>
                                    <param id="1" name="Value">Gun.OldPlayerY1</param>
                                </action>
                                <action id="-10" name="Set value" sid="256096872754471" type="Gun">
                                    <param id="0" name="Instance variable">OldPlayerX1</param>
                                    <param id="1" name="Value">Player.X + Player.ImagePointX(&quot;Weapon&quot;) - Player.ImagePointX(0)</param>
                                </action>
                                <action id="-10" name="Set value" sid="8433072573937336" type="Gun">
                                    <param id="0" name="Instance variable">OldPlayerY1</param>
                                    <param id="1" name="Value">Player.Y + Player.ImagePointY(&quot;Weapon&quot;) - Player.ImagePointY(0)</param>
                                </action>
                                <action id="-3" name="Set position" sid="8170897702940212" type="Gun">
                                    <param id="0" name="X">Gun.OldPlayerX2</param>
                                    <param id="1" name="Y">Gun.OldPlayerY2</param>
                                </action>
                                <action id="-8" name="Set angle" sid="992746278404357" type="Gun">
                                    <param id="0" name="Angle">Player.Angle</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block disabled="1" sid="4249365491479971">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="9658530885618339" type="Player">
                                            <param id="0" name="Instance variable">HoldingGun</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="4117426627608048" type="Gun">
                                            <param id="0" name="X">-100</param>
                                            <param id="1" name="Y">-100</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="5133677701216001">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="3002297516345176" type="Bullet">
                                    <param id="0" name="Object">SpriteChar</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="7205852545630743" type="System">
                                    <param id="0" name="First value">SpriteChar.Owner</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Second value">Bullet.Owner</param>
                                </condition>
                                <condition id="-14" name="Pick by unique ID" sid="7816139126772274" type="Character">
                                    <param id="0" name="Unique ID">SpriteChar.Owner</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="5370091173307494" type="Character">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="7549404191572284" type="Character">
                                    <param id="0" name="Object">DirectionalBlood</param>
                                    <param id="1" name="Layer">Character.LayerNumber</param>
                                    <param id="2" name="Image point">&quot;Hit&quot;</param>
                                </action>
                                <action id="-8" name="Set angle" sid="5890765774028666" type="DirectionalBlood">
                                    <param id="0" name="Angle">angle(Player.X, Player.Y, Character.X, Character.Y)</param>
                                </action>
                                <action id="-10" name="Set value" sid="7610420919139151" type="Character">
                                    <param id="0" name="Instance variable">KnockBack</param>
                                    <param id="1" name="Value">16</param>
                                </action>
                                <action id="-10" name="Set value" sid="1101534049146812" type="Character">
                                    <param id="0" name="Instance variable">KnockBackAngle</param>
                                    <param id="1" name="Value">180-Bullet.Angle</param>
                                </action>
                                <action id="-9" name="Destroy" sid="6681680387909679" type="Bullet" />
                                <action id="-12" name="Subtract from" sid="3433670883948858" type="Character">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action disabled="1" id="-10" name="Set value" sid="2800362580297623" type="DirectionalBlood">
                                    <param id="0" name="Instance variable">Owner</param>
                                    <param id="1" name="Value">Character.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7896721733903308">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="6888559504120867" type="Bullet">
                                    <param id="0" name="Object">Wall</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="3707303961597535" type="Bullet" />
                            </actions>
                        </event-block>
                        <event-block disabled="1" sid="131774704703046">
                            <conditions />
                            <actions>
                                <action id="-25" name="Move to bottom" sid="2611770778331984" type="BulletShell" />
                            </actions>
                        </event-block>
                        <event-block sid="6415742207550364">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="5551950795990719" type="Player">
                                    <param id="0" name="Object">Ammo</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="7588234181484516" type="Ammo" />
                                <action id="-11" name="Add to" sid="4478111796893562" type="Player">
                                    <param id="0" name="Instance variable">SimpleBullets</param>
                                    <param id="1" name="Value">6</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8927074903482362">
                            <conditions>
                                <condition id="-2" name="Compare Y" sid="4195205769545869" type="BulletShell">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="Y co-ordinate">BulletShell.MaxY</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="8216414100896967" type="BulletShell">
                                    <param id="0" name="Instance variable">MaxY</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition behavior="Platform" id="4" name="Is falling" sid="4281565390939906" type="BulletShell" />
                            </conditions>
                            <actions>
                                <action id="-25" name="Move to bottom" sid="4487914203233952" type="BulletShell" />
                                <action disabled="1" id="-10" name="Set value" sid="5383552711640553" type="BulletShell">
                                    <param id="0" name="Instance variable">MaxY</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action behavior="Platform" id="9" name="Set vector Y" sid="6533732346687565" type="BulletShell">
                                    <param id="0" name="Vector Y">-BulletShell.Platform.VectorY / 2</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="7434386111720489">
                                    <conditions>
                                        <condition id="5" inverted="1" name="Is tag playing" sid="4851683373381487" type="Audio">
                                            <param id="0" name="Tag">str(BulletShell.UID)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Play" sid="2064716696926017" type="Audio">
                                            <param id="0" name="Audio file">107342__thompsonman__shotgun-shell</param>
                                            <param id="2" name="Loop">0</param>
                                            <param id="3" name="Volume">0</param>
                                            <param id="1" name="Tag (optional)">str(BulletShell.UID)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="4489347167867693">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="9662310770957449" type="System">
                                            <param id="0" name="First value">abs(BulletShell.Platform.VectorY)</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">10</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Platform" id="11" name="Set enabled" sid="5718540940534906" type="BulletShell">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="569804434613888" title="HUD">
            <sub-events>
                <event-block sid="1517814329212286">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="3850111470731568" type="Player">
                            <param id="0" name="Instance variable">CarryingKnife</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="8257701331475474" type="HUD_Knife">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block disabled="1" sid="7417515627718961">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="434541010113335" type="Player">
                                    <param id="0" name="Instance variable">HoldingKnife</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Set opacity" sid="809641897974811" type="HUD_Knife">
                                    <param id="0" name="Opacity">50</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="115820554336246">
                    <conditions>
                        <condition id="-22" name="Else" sid="8454700984351754" type="System" />
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="3892035260802373" type="HUD_Knife">
                            <param id="0" name="Opacity">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8313307141283253">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="644344751361621" type="Player">
                            <param id="0" name="Instance variable">CarryingGun</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="7102464281617445" type="HUD_Gun">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block disabled="1" sid="4052313202705751">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="9451503647371119" type="Player">
                                    <param id="0" name="Instance variable">HoldingGun</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-16" name="Set opacity" sid="3267568063788086" type="HUD_Gun">
                                    <param id="0" name="Opacity">50</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="1961394437355009">
                    <conditions>
                        <condition id="-22" name="Else" sid="555207508537897" type="System" />
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="155256804525818" type="HUD_Gun">
                            <param id="0" name="Opacity">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5766624820445431">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="5452425266333917" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">Player.InitialHealth * 0.75</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="3795596080972751" type="HealthIndicator">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2342171728345984">
                    <conditions>
                        <condition id="-22" name="Else" sid="262334640945855" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="9173516007276657" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">Player.InitialHealth * 0.5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="7115540748101935" type="HealthIndicator">
                            <param id="0" name="Animation">&quot;Hit&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4163568618006938">
                    <conditions>
                        <condition id="-22" name="Else" sid="102215387575147" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="5643312912222532" type="Player">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">Player.InitialHealth * 0.25</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="2630996505096646" type="HealthIndicator">
                            <param id="0" name="Animation">&quot;Hurt&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5411540055677995">
                    <conditions>
                        <condition id="-22" name="Else" sid="6695765293288921" type="System" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="3044391268294804" type="HealthIndicator">
                            <param id="0" name="Animation">&quot;Dying&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="3974259982915013">
            <conditions>
                <condition id="-1" name="Every tick" sid="8901338034832061" type="System" />
            </conditions>
            <actions>
                <action id="-16" name="Set opacity" sid="6438506191308123" type="BulletCount">
                    <param id="0" name="Opacity">HUD_Gun.Opacity</param>
                </action>
                <action id="0" name="Set text" sid="5810705758657572" type="BulletCount">
                    <param id="0" name="Text">Player.SimpleBullets</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
